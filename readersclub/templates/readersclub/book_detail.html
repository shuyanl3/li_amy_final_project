{% extends 'readersclub/base.html' %}
{% block title %}
    Book - {{ book }}
{% endblock %}

{% block content %}
    <h2> {{ book }} </h2>
    <ul>
        {% if perms.readersclub.change_book %}
        <a href="{{ book.get_update_url }}"
           class="button">Edit Book</a><br>
        {% endif %}

        {% if perms.readersclub.delete_book %}
        <a href="{{ book.get_delete_url }}"
           class="button">Delete Book</a>
        {% endif %}
    </ul>

    <section>
        <table>
            <tr>
                <th>Title:</th>
                <td>{{ book.title }}</td>
            </tr>
            <tr>
                <th>Author:</th>
                <td>{{ book.author }}</td>
            </tr>
            <tr>
                <th>Introduction:</th>
                <td>{{ book.introduction }}</td>
            </tr>
            <tr>
                <th>Publisher:</th>
                <td>{{ book.publisher }}</td>
            </tr>
            <tr>
                <th>Genre:</th>
                <td>{{ book.genre }}</td>
            </tr>
            <tr>
                <th>Rate:</th>
                <td>{{ book.rate }}</td>
            </tr>
        </table>
    </section>

    <section>
        <h3>Reviews</h3>
        {% if perms.readersclub.add_review %}
        <div>
            <a href="{% url 'readersclub_review_create_urlpattern' pk=book.pk %}"
            class="button button-primary">Write Review</a>
        </div>
        {% endif %}
        <ul>
            {% for review in review_list %}
            <li>
                <p>{{ review.author }}: </p>
                <p>{{ review.text }}</p>
            </li>
            {% empty %}
                <li><em>There are currently no review for this book.</em></li>
            {% endfor %}
        </ul>
    </section>
{% endblock %}
